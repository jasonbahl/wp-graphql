(this["webpackJsonpwp-graphiql"]=this["webpackJsonpwp-graphiql"]||[]).push([[0],{245:function(e,t,n){e.exports=n(385)},378:function(e,t,n){},380:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(66),o=n.n(c),l=n(40),i=n(238),u=n(44),s=n(28),p=n(23),d=n(242),f=(n(397),n(399),n(88)),m=n(1),b=n(68),y=n(396),h=n(31),g=n(158),E=Object(g.withErrorBoundary)((function(e){var t=e.children,n=Object(g.useErrorBoundary)((function(e){console.log(e.message)})),r=Object(l.a)(n,2),c=r[0],o=r[1];return c?a.a.createElement("div",null,a.a.createElement("p",null,c.message),a.a.createElement("button",{onClick:o},"Try again")):a.a.createElement("div",null,t)})),O=function(e){var t=e.operationTypes;return t.length?a.a.createElement("div",{id:"docs-explorer-buttons"},t.map((function(e){return a.a.createElement(d.a,{key:"Add".concat(e,"Button"),onClick:function(){alert("Add ".concat(e))},block:!0,style:{marginBottom:"12px"}},"Add ".concat(e))}))):null},j=[],v=function(e){try{return e.trim()?Object(f.a)(e,{noLocation:!0}):null}catch(t){return new Error(t)}},x=function(e){var t=[];if(!e instanceof m.f)return t;if(!1 in e)return t;var n=e.getFields(),r=Object.keys(n).map((function(e){return n[e]}));return console.log({type:e,fields:r}),r.length?(r.map((function(n,r){var a,c;console.log(n);var o="String";n&&n.type&&(o=Object(m.U)(n.type)?n.type.ofType:n.type);var l={title:n.name,key:e.name+"."+n.name,isLeaf:o instanceof m.g,fieldType:null!==(a=null===(c=o)||void 0===c?void 0:c.name)&&void 0!==a?a:"String"};t.push(l)})),t):t},w=function(e){var t=e.type,n=(e.operation,e.schema),c=Object(r.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1];Object(r.useEffect)((function(){var e=x(t);e&&e.length&&null===i&&u(e)}));return t instanceof m.g?a.a.createElement("div",null,"Scalar: ",t.name):!t||!1 in t?null:a.a.createElement(y.a.DirectoryTree,{multiple:!0,checkable:!0,showIcon:!1,treeData:i,loadData:function(e){var t=e.key,r=e.children;return console.log({onLoadData:{key:t,children:r}}),new Promise((function(e){r&&(console.log({loadData:{key:t,children:r}}),e()),u((function(e){return function e(t,n,r){return t.map((function(t){if(t.key===n){console.log(t);var a=r.getType(t.fieldType),c=x(a);return c.length?Object(p.a)(Object(p.a)({},t),{},{children:c}):t}return t.children?Object(p.a)(Object(p.a)({},t),{},{children:e(t.children,n,r)}):t}))}(e,t,n)})),e()}))},setTreeData:u})},S=function(e){var t,n=e.schema,r=(e.query,e.parsedQuery,e.queryDefinition);if(!r.operation)return null;switch(r.operation){case"subscription":t=n.getSubscriptionType();break;case"mutation":t=n.getMutationType();break;case"query":default:t=n.getQueryType()}return t?a.a.createElement("div",null,a.a.createElement("h3",null,r.operation),a.a.createElement(w,{type:t,schema:n})):null},k=function(e){var t=e.schema,n=e.children,c=Object(s.e)("isExplorerOpen",Object(s.g)(s.a,!0)),o=Object(l.a)(c,2),i=o[0],u=o[1],p=Object(r.useState)("300px"),d=Object(l.a)(p,2),f=d[0],m=(d[1],Object(r.useState)("Explorer")),b=Object(l.a)(m,2),y=b[0];b[1];return a.a.createElement("div",{className:"docExplorerWrap",style:{height:"100%",width:f,minWidth:f,zIndex:7,display:!1===i?"none":"flex",flexDirection:"column",overflow:"hidden"}},a.a.createElement("div",{className:"doc-explorer-title-bar"},a.a.createElement("div",{className:"doc-explorer-title"},y),a.a.createElement("div",{className:"doc-explorer-rhs"},a.a.createElement("div",{className:"docExplorerHide",onClick:function(){u(!i)}},"\u2715"))),t?n:a.a.createElement("div",{className:"error-container"},"Loading Schema..."))},T=function(e){var t=e.schema,n=e.query,c=Object(r.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)("100px"),p=Object(l.a)(s,2),d=p[0],f=p[1];Object(r.useEffect)((function(){var e=document.getElementById("docs-explorer-buttons");if(e){var t=e.getBoundingClientRect();f("".concat(t.bottom,"px"))}}));var m=n?function(e){if(!e||""===e)return j[1]="",null;if(j.length&&j[0]===e)return j[1];var t=v(e);return t instanceof Error?j?j[1]:"":(j=[e,t],t)}(n):null;if(!i.length&&t instanceof b.a){var y=[];t.getQueryType()&&y.push("Query"),t.getMutationType()&&y.push("Mutation"),t.getSubscriptionType()&&y.push("Subscription"),y.length&&u(y)}return a.a.createElement(k,{schema:t},a.a.createElement(E,null,a.a.createElement("div",{style:{padding:"10px"}},a.a.createElement(O,{operationTypes:i}),a.a.createElement("div",{className:"doc-explorer-contents",style:{top:d}},m&&m.definitions&&m.definitions.length&&m.definitions.map((function(e,r){return a.a.createElement(S,{key:r,schema:t,query:n,parsedQuery:m,queryDefinition:e})}))))))},q=n(100),Q=n.n(q),C=n(237),B=n.n(C),L=(n(198),n(378),window.wpGraphiQLSettings&&window.wpGraphiQLSettings.nonce?window.wpGraphiQLSettings.nonce:null),N=window.wpGraphiQLSettings&&window.wpGraphiQLSettings.graphqlEndpoint?window.wpGraphiQLSettings.graphqlEndpoint:window.location.origin,D={Accept:"application/json","Content-Type":"application/json"};function P(e){return fetch(N,{method:"post",headers:D,body:JSON.stringify(e)}).then((function(e){return e.json()}))}L&&(D=Object(p.a)(Object(p.a)({},D),{},{"X-WP-Nonce":L}));var G=function(e){var t=e.schema,n=Object(r.useRef)(),c=Object(s.e)("query",s.d),o=Object(l.a)(c,2),i=o[0],u=o[1];console.log({ideQuery:i});var p=Object(r.useState)(null),d=Object(l.a)(p,2),m=d[0],b=d[1],y=Object(s.e)("isExplorerOpen",Object(s.g)(s.a,!0)),g=Object(l.a)(y,2),E=g[0],O=g[1],j=Object(s.e)("isExporterOpen",Object(s.g)(s.a,!1)),v=Object(l.a)(j,2),x=v[0],w=v[1];return Object(r.useEffect)((function(){if(!m&&i&&i.length)try{var e=Object(h.a)(Object(f.a)(i));b(e)}catch(t){b(i)}}),[m,i]),a.a.createElement("div",{style:{display:"flex",flex:1}},a.a.createElement(Q.a,{ref:function(e){return n.current=e},fetcher:P,query:m,schema:t,onEditQuery:function(e){b(e),i!==e&&u(B()(e))}},a.a.createElement(Q.a.Toolbar,null,a.a.createElement(Q.a.Button,{onClick:function(){return n.current.handlePrettifyQuery()},label:"Prettify",title:"Prettify Query (Shift-Ctrl-P)"}),a.a.createElement(Q.a.Button,{onClick:function(){return n.current.handleToggleHistory()},label:"History",title:"Toggle History Panel"}),a.a.createElement(Q.a.Button,{onClick:function(){O(!E)},label:"Explorer",title:"Toggle Explorer Panel"}),a.a.createElement(Q.a.Button,{onClick:function(){w(!x)},label:"Code Exporter",title:"Toggle Code Exporter Panel"}))))},R=(n(379),function(){var e=Object(s.e)("isExporterOpen",Object(s.g)(s.a,!1)),t=Object(l.a)(e,2),n=t[0];t[1];return n?a.a.createElement("h2",null,"Exporter"):null}),I=n(236),A=n(394),H=(n(380),function(){var e=Object(s.f)({query:Object(s.g)(s.d,""),variables:s.b,isExplorerOpen:Object(s.g)(s.a,!0),isExporterOpen:Object(s.g)(s.a,!1)}),t=Object(l.a)(e,2),n=(t[0],t[1],Object(s.e)("query",s.d)),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(null),p=Object(l.a)(u,2),d=p[0],f=p[1];return Object(r.useEffect)((function(){d||P({query:Object(I.a)()}).then((function(e){var t=Object(A.a)(e.data);f(t)}))})),a.a.createElement("div",{className:"graphiql-container"},a.a.createElement(T,{query:o,schema:d,onEdit:function(){console.log("edit explorer")},onRunOperation:function(){console.log("run operation")}}),a.a.createElement(G,{schema:d,query:o,setQuery:i,setQueryInUrl:i}),a.a.createElement(R,null))}),J=function(){return a.a.createElement(i.a,null,a.a.createElement(s.c,{ReactRouterRoute:u.a},a.a.createElement(H,null)))},M=document.getElementById("graphiql");o.a.render(a.a.createElement(J,null),M)}},[[245,1,2]]]);
//# sourceMappingURL=main.dcbe1cfe.chunk.js.map